
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ledger - Real Time</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>

    <header>
        <div class="header-top">
            <div class="container">
                <a href="#" class="logo">Ledger</a>
                <div class="header-right">
                    <span class="date" id="current-date">Loading date...</span>
                    <a href="#" class="subscribe-btn">Subscribe</a>
                </div>
            </div>
        </div>
        <nav class="navbar">
            <div class="container">
                <ul>
                    <li><a href="#" onclick="fetchNews('general')">Home</a></li>
                    <li><a href="#" onclick="fetchNews('business')">Business</a></li>
                    <li><a href="#" onclick="fetchNews('sports')">Sport</a></li>
                    <li><a href="#" onclick="fetchNews('technology')">Tech</a></li>
                    <li><a href="#" onclick="fetchNews('entertainment')">Culture</a></li>
                    <li><a href="#" onclick="fetchNews('health')">Health</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        <section class="hero-section">
            <div class="container">
                <div class="hero-grid" id="hero-container">
                    <div class="loading">Loading Top Stories...</div>
                </div>
            </div>
        </section>

        <section class="latest-news">
            <div class="container">
                <h2 class="section-title">Latest News <a href="#">View All</a></h2>
                <div class="news-grid" id="latest-news-grid">
                </div>
            </div>
        </section>

        <section class="featured-article-section">
            <div class="container">
                <div class="featured-grid">
                    <div class="featured-content">
                        <div class="article-meta">
                            <span class="category">FEATURED</span>
                        </div>
                        <h2>The Future of AI: How Deep Learning is Transforming Industries</h2>
                        <p class="article-excerpt" style="color: #eee; margin-top: 10px;">
                            We take a deep dive into the neural networks powering the next generation of software, from healthcare diagnostics to autonomous driving.
                        </p>
                        <br>
                        <a href="#" class="read-more">Read the full story
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="#ffffff" d="M16.175 13H4v-2h12.175l-5.6-5.6L12 4l8 8l-8 8l-1.425-1.4l5.6-5.6Z"/></svg>
                        </a>
                    </div>
                    <div class="featured-image">
                        <img src="https://images.unsplash.com/photo-1620712943543-bcc4688e7485?q=80&w=1000&auto=format&fit=crop" alt="AI Feature">
                    </div>
                </div>
            </div>
        </section>

        <section class="technology-section">
            <div class="container">
                <h2 class="section-title">Technology <a href="#">View All</a></h2>
                <div class="tech-grid" id="tech-grid">
                    </div>
            </div>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div>
                    <a href="#" class="logo" style="color:white">Ledger</a>
                    <p style="color: #aaa; font-size: 14px; margin-top: 10px;">Your trusted source for real-time news.</p>
                </div>
                <div></div>
                <div></div>
            </div>
            <div class="footer-bottom">
                <p>Â© 2026 Ledger. Powered by NewsAPI.</p>
            </div>
        </div>
    </footer>

    <script>
        // 1. CONFIGURATION
        // Get your free key at https://newsapi.org/
        const API_KEY = '71b8b91f53b7447b934ae3c1da9d7a84'; 
        const BASE_URL = 'https://newsapi.org/v2';
        const DEFAULT_IMAGE = 'https://images.unsplash.com/photo-1504711434969-e33886168f5c?q=80&w=1000&auto=format&fit=crop';

        // Set Date in Header
        const dateOptions = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
        document.getElementById('current-date').textContent = new Date().toLocaleDateString('en-US', dateOptions);

        // 2. FETCH FUNCTION
        async function fetchNews(category = 'general') {
            try {
                // Fetch Top Headlines for Hero
                const heroResponse = await fetch(`${BASE_URL}/top-headlines?country=us&category=${category}&apiKey=${API_KEY}`);
                const heroData = await heroResponse.json();

                // Fetch "Everything" for specific sections to get more volume
                const techResponse = await fetch(`${BASE_URL}/top-headlines?country=us&category=technology&pageSize=3&apiKey=${API_KEY}`);
                const techData = await techResponse.json();

                if(heroData.status === 'error') throw new Error(heroData.message);

                // Render Sections
                renderHero(heroData.articles);
                renderLatest(heroData.articles.slice(8)); // Use articles 4-8 for latest
                renderTech(techData.articles);

            } catch (error) {
                console.error('Error fetching news:', error);
                handleError();
            }
        }

        // 3. RENDER FUNCTIONS

        // Render Hero Section (1 Main + 3 Side)
        function renderHero(articles) {
            const container = document.getElementById('hero-container');
            if(!articles || articles.length < 4) return;

            const mainArt = articles[0];
            const sideArts = articles.slice(1, 4);

            let sideHTML = sideArts.map(art => `
                <article class="side-article">
                    <img src="${art.urlToImage || DEFAULT_IMAGE}" alt="News">
                    <div>
                        <div class="article-meta">
                            <span class="category">${art.source.name}</span>
                        </div>
                        <h3><a href="${art.url}" target="_blank">${art.title}</a></h3>
                    </div>
                </article>
            `).join('');

            container.innerHTML = `
                <article class="main-article">
                    <img src="${mainArt.urlToImage || DEFAULT_IMAGE}" alt="Main News">
                    <div class="article-meta">
                        <span class="category">${mainArt.source.name}</span>
                        <span>${new Date(mainArt.publishedAt).toLocaleDateString()}</span>
                    </div>
                    <h2><a href="${mainArt.url}" target="_blank">${mainArt.title}</a></h2>
                    <p class="article-excerpt">${mainArt.description || 'Click to read the full story on the source website.'}</p>
                    <a href="${mainArt.url}" target="_blank" class="read-more">
                        Read More 
                        <svg class="icon-arrow" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"><path fill="#000000ff" d="M16.175 13H4v-2h12.175l-5.6-5.6L12 4l8 8l-8 8l-1.425-1.4l5.6-5.6Z"/></svg>
                    </a>
                </article>
                <aside class="side-articles">
                    ${sideHTML}
                </aside>
            `;
        }

        // Render Latest News (4 Grid Items)
        function renderLatest(articles) {
            const container = document.getElementById('latest-news-grid');
            if(!articles) return;

            container.innerHTML = articles.map(art => `
                <article class="news-card">
                    <img src="${art.urlToImage || DEFAULT_IMAGE}" alt="News">
                    <div class="article-meta">
                        <span class="category">${art.source.name}</span>
                        <span>${timeAgo(art.publishedAt)}</span>
                    </div>
                    <h3 class="article-title"><a href="${art.url}" target="_blank">${truncate(art.title, 60)}</a></h3>
                </article>
            `).join('');
        }

        // Render Tech Section (3 Grid Items)
        function renderTech(articles) {
            const container = document.getElementById('tech-grid');
            if(!articles) return;

            container.innerHTML = articles.map(art => `
                <article class="tech-card">
                    <img src="${art.urlToImage || DEFAULT_IMAGE}" alt="Tech News">
                    <div class="article-meta">
                        <span class="category">Technology</span>
                        <span>${new Date(art.publishedAt).toLocaleDateString()}</span>
                    </div>
                    <h3 class="article-title"><a href="${art.url}" target="_blank">${truncate(art.title, 50)}</a></h3>
                </article>
            `).join('');
        }

        // Helper: Truncate Text
        function truncate(str, n) {
            return (str.length > n) ? str.substr(0, n-1) + '&hellip;' : str;
        }

        // Helper: Time Ago
        function timeAgo(dateString) {
            const date = new Date(dateString);
            const now = new Date();
            const seconds = Math.floor((now - date) / 1000);
            if (seconds < 3600) return Math.floor(seconds / 60) + "m ago";
            if (seconds < 86400) return Math.floor(seconds / 3600) + "h ago";
            return Math.floor(seconds / 86400) + "d ago";
        }

        // Error Handler
        function handleError() {
    const errorHTML = `
        <div class="error-container">
            <h3>Feed Temporarily Unavailable</h3>
            <p>
                To protect security, NewsAPI's free tier restricts live data requests to 
                <strong>localhost</strong> environments. 
            </p>
            <div class="step-box">
                <strong>To view this project with live data:</strong>
                <ol style="margin-top:10px; margin-left:20px;">
                    <li>Clone this repository from GitHub.</li>
                    <li>Open the project in VS Code.</li>
                    <li>Launch it using the <code>Live Server</code> extension.</li>
                    <li>Ensure your API Key is active in <code>index.html</code>.</li>
                </ol>
            </div>
            <p style="margin-top:20px; font-size: 12px; color: #718096;">
                <i>Note: This is a restriction of the NewsAPI Free Tier, not the codebase.</i>
            </p>
        </div>
    `;
    
    // Inject into the main containers
    document.getElementById('hero-container').innerHTML = errorHTML;
    document.getElementById('latest-news-grid').innerHTML = '';
}

        // Initial Load
        fetchNews();
    </script>
















    <style>
        /* Enhanced Error State Styling */
.error-container {
    max-width: 600px;
    margin: 50px auto;
    padding: 30px;
    background-color: #fff5f5;
    border: 1px solid #feb2b2;
    border-radius: 12px;
    text-align: center;
    box-shadow: 0 4px 6px rgba(0,0,0,0.05);
}

.error-container h3 {
    color: #c53030;
    margin-bottom: 15px;
    font-size: 22px;
}

.error-container p {
    color: #4a5568;
    margin-bottom: 20px;
    font-size: 15px;
    line-height: 1.6;
}

.step-box {
    text-align: left;
    background: #fff;
    padding: 15px;
    border-radius: 8px;
    font-size: 14px;
    border: 1px solid #edf2f7;
}

.step-box code {
    background: #edf2f7;
    padding: 2px 4px;
    border-radius: 4px;
    font-family: monospace;
}
    </style>

    





















</body>
</html>